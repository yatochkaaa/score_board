(this.webpackJsonpscore_board=this.webpackJsonpscore_board||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),l=a(8),r=a.n(l),n=(a(16),a(5)),o=a(9),b=a(4),i=a(2),j=(a(17),a(18),a.p+"static/media/preloader.00bab61b.svg"),d=a(1),m=function(){return Object(d.jsxs)("div",{className:"preloader",children:[Object(d.jsx)("h2",{className:"preloader__title",children:"No players available"}),Object(d.jsx)("object",{type:"image/svg+xml",data:j,children:"svg-animation"})]})},u=(a(20),a(11)),O=a.n(u),_=Object(c.createContext)([]),h=function(e){var t=Object(c.useState)(!1),a=Object(b.a)(t,2),s=a[0],l=a[1],r=Object(c.useContext)(_),o=e.scoreSort,i=e.scoreButton,j=e.setSelectedPlayer;return window.addEventListener("scroll",(function(){window.scrollY>=80?l(!0):l(!1)})),Object(d.jsxs)("table",{className:"table table-borderless",children:[Object(d.jsx)("thead",{className:O()("table__thead",{"table__thead--scroll":s}),children:Object(d.jsxs)("tr",{className:"table__up-tr",children:[Object(d.jsx)("th",{style:{paddingLeft:"84px"},scope:"col",className:"table__th table__th-name",colSpan:2,children:"Player\u2019s name"}),Object(d.jsx)("th",{scope:"col",className:"table__th",style:{paddingRight:"28px"},children:Object(d.jsx)("button",{type:"button",className:"table__th-button",onClick:function(){return i(!o)},children:Object(d.jsxs)("div",{className:"table__th-button-area",children:[Object(d.jsx)("span",{className:O()("table__arrow",{"table__arrow--bottom":!o})}),"Score"]})})})]})}),Object(d.jsx)("tbody",{className:"table__tbody",children:r.map((function(e){return Object(d.jsxs)(n.b,{to:"/player/".concat(e.name),onClick:function(){return j(e)},className:"table__tr",children:[Object(d.jsxs)("td",{className:"table__player",colSpan:2,children:[Object(d.jsx)("img",{src:e.avatar,alt:"person face",className:"table__person-avatar"}),Object(d.jsx)("span",{className:"table__name",children:e.name})]}),Object(d.jsx)("td",{style:{verticalAlign:"middle"},className:"table__score",children:Object(d.jsx)("span",{className:"table__score-number",children:e.score})})]},e.name)}))})]})},p=(a(21),function(e){var t=e.selectedPlayer,a=document.getElementById("modal_root"),c=Object(i.f)();return r.a.createPortal(Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"modal","aria-label":"modal",role:"button",tabIndex:0,style:{display:"block"},onKeyPress:function(){return c("/")},onClick:function(){return c("/")}}),Object(d.jsxs)("div",{className:"modal__window",children:[Object(d.jsxs)("div",{className:"modal__top-part",children:[Object(d.jsx)("img",{src:t.avatar,alt:"person face",className:"modal__image"}),Object(d.jsx)("h2",{className:"modal__title",children:t.name}),Object(d.jsx)("p",{className:"modal__score",children:"Score: ".concat(t.score)}),Object(d.jsx)("p",{className:"modal__bio",children:t.bio})]}),Object(d.jsx)("div",{className:"modal__bottom-part",children:Object(d.jsx)(n.b,{to:"/",children:Object(d.jsxs)("button",{type:"button",className:"modal__close-button",children:[Object(d.jsx)("svg",{viewBox:"0 0 10 11",fill:"black",xmlns:"http://www.w3.org/2000/svg",className:"modal__button-cross",children:Object(d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.188279 9.13636C-0.0627596 9.3874 -0.0627596 9.79441 0.188279 10.0455C0.439317 10.2965 0.846331 10.2965 1.09737 10.0455L4.73374 6.40909L8.37013 10.0455C8.62117 10.2965 9.02818 10.2965 9.27922 10.0455C9.53026 9.79444 9.53026 9.38743 9.27922 9.13639L5.64283 5.49999L9.27919 1.86364C9.53023 1.6126 9.53023 1.20558 9.27919 0.954545C9.02815 0.703506 8.62113 0.703506 8.3701 0.954545L4.73374 4.5909L1.0974 0.954572C0.846366 0.703534 0.439352 0.703534 0.188314 0.954572C-0.0627247 1.20561 -0.0627246 1.61262 0.188314 1.86366L3.82465 5.49999L0.188279 9.13636Z"})}),"Close"]})})})]})]}),a)}),x=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)(!0),r=Object(b.a)(l,2),n=r[0],j=r[1],u=Object(c.useState)(null),O=Object(b.a)(u,2),x=O[0],f=O[1];Object(c.useEffect)((function(){new EventSource("http://localhost:5000").onmessage=function(e){var t=JSON.parse(e.data);s((function(e){return[].concat(Object(o.a)(e),[t])}))}}),[]),Object(c.useEffect)((function(){var e=localStorage.getItem("players"),t=localStorage.getItem("sortOrder");if(e&&t){var a=JSON.parse(e),c=JSON.parse(t);s(a),j(c)}}),[]),Object(c.useEffect)((function(){localStorage.setItem("players",JSON.stringify(a)),localStorage.setItem("sortOrder",JSON.stringify(n))}),[a,n]);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{className:"App__title",children:"Score board"}),a.length?Object(d.jsx)(_.Provider,{value:function(){var e=Object(o.a)(a).sort((function(e,t){return t.score-e.score})),t=Object(o.a)(a).sort((function(e,t){return e.score-t.score}));return n?e:t}(),children:Object(d.jsx)(h,{scoreSort:n,scoreButton:j,setSelectedPlayer:f})}):Object(d.jsx)(m,{}),x&&x.bio&&Object(d.jsx)(i.c,{children:Object(d.jsx)(i.a,{path:function(e){var t=e.split(" ").join("%20");return"/player/".concat(t)}(x.name),element:Object(d.jsx)(p,{selectedPlayer:x})})})]})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(n.a,{children:Object(d.jsx)(x,{})})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.9ee38d1a.chunk.js.map