{"version":3,"sources":["images/preloader.svg","components/Preloader/Preloader.tsx","components/Table/Table.tsx","components/Modal/Modal.tsx","App.tsx","index.tsx"],"names":["Preloader","className","type","data","preloader","Table","props","useState","theadScroll","setTheadScroll","players","scoreSort","scoreButton","setSelectedPlayer","window","addEventListener","scrollY","classNames","style","paddingLeft","scope","colSpan","paddingRight","onClick","map","player","to","name","src","avatar","alt","verticalAlign","score","Modal","selectedPlayer","portalDiv","document","getElementById","ReactDom","createPortal","display","bio","App","setPlayers","setScoreSort","useEffect","EventSource","onmessage","event","JSON","parse","prevPlayers","length","reducePlayersScoreSort","sort","player1","player2","increasePlayersScoreSort","handleChangeScoreSort","path","changeToUrlName","split","join","urlName","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b7c105cd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/preloader.00bab61b.svg\";","import React from 'react';\nimport './Preloader.scss';\nimport preloader from '../../images/preloader.svg';\n\nexport const Preloader: React.FC = () => {\n  return (\n    <div className=\"preloader\">\n      <h2 className=\"preloader__title\">No players available</h2>\n\n      <object\n        type=\"image/svg+xml\"\n        data={preloader}\n      >\n        svg-animation\n      </object>\n    </div>\n  );\n};\n","import React, { Dispatch, SetStateAction, useState } from 'react';\nimport './Table.scss';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { IPlayer } from '../../types';\n\ninterface Props {\n  players: IPlayer[];\n  scoreSort: boolean;\n  scoreButton: Dispatch<SetStateAction<boolean>>;\n  setSelectedPlayer: Dispatch<SetStateAction<IPlayer | null>>;\n}\n\nexport const Table: React.FC<Props> = (props) => {\n  const [theadScroll, setTheadScroll] = useState<boolean>(false);\n\n  const {\n    players,\n    scoreSort,\n    scoreButton,\n    setSelectedPlayer,\n  } = props;\n\n  const changeTheadBoxShadow = () => {\n    if (window.scrollY >= 80) {\n      setTheadScroll(true);\n    } else {\n      setTheadScroll(false);\n    }\n  };\n\n  window.addEventListener('scroll', changeTheadBoxShadow);\n\n  return (\n    <table className=\"table table-borderless\">\n      <thead\n        className={classNames(\n          'table__thead',\n          { 'table__thead--scroll': theadScroll },\n        )}\n      >\n        <tr className=\"table__up-tr\">\n          <th\n            style={{ paddingLeft: '84px' }}\n            scope=\"col\"\n            className=\"table__th table__th-name\"\n            colSpan={2}\n          >\n            Playerâ€™s name\n          </th>\n\n          <th\n            scope=\"col\"\n            className=\"table__th\"\n            style={{ paddingRight: '28px' }}\n          >\n            <button\n              type=\"button\"\n              className=\"table__th-button\"\n              onClick={() => scoreButton(!scoreSort)}\n            >\n              <div className=\"table__th-button-area\">\n                <span\n                  className={classNames(\n                    'table__arrow',\n                    { 'table__arrow--bottom': !scoreSort },\n                  )}\n                />\n                Score\n              </div>\n            </button>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody className=\"table__tbody\">\n        {players.map((player) => (\n          <Link\n            to={`/player/${player.name}`}\n            onClick={() => setSelectedPlayer(player)}\n            className=\"table__tr\"\n            key={player.name}\n          >\n            <td className=\"table__player\" colSpan={2}>\n              <img\n                src={player.avatar}\n                alt=\"person face\"\n                className=\"table__person-avatar\"\n              />\n              <span className=\"table__name\">{player.name}</span>\n            </td>\n\n            <td style={{ verticalAlign: 'middle' }} className=\"table__score\">\n              <span className=\"table__score-number\">{player.score}</span>\n            </td>\n          </Link>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import React from 'react';\nimport './Modal.scss';\nimport ReactDom from 'react-dom';\nimport { Link } from 'react-router-dom';\nimport { IPlayer } from '../../types';\n\ninterface Props {\n  selectedPlayer: IPlayer\n}\n\nexport const Modal: React.FC<Props> = ({ selectedPlayer }) => {\n  const portalDiv = document.getElementById('modal_root')!;\n\n  return ReactDom.createPortal(\n    <div\n      style={{ display: 'block' }}\n      className=\"modal\"\n    >\n      <div className=\"modal__window\">\n        <div className=\"modal__top-part\">\n          <img\n            src={selectedPlayer.avatar}\n            alt=\"person face\"\n            className=\"modal__image\"\n          />\n\n          <h2 className=\"modal__title\">\n            {selectedPlayer.name}\n          </h2>\n\n          <p className=\"modal__score\">\n            {`Score: ${selectedPlayer.score}`}\n          </p>\n\n          <p className=\"modal__bio\">\n            {selectedPlayer.bio}\n          </p>\n        </div>\n\n        <div className=\"modal__bottom-part\">\n          <Link\n            to=\"/\"\n          >\n            <button\n              type=\"button\"\n              className=\"modal__close-button\"\n            >\n              <span className=\"modal__button-cross\" />\n              Close\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>,\n    portalDiv,\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport './App.scss';\nimport { IPlayer } from './types';\nimport { Preloader } from './components/Preloader/Preloader';\nimport { Table } from './components/Table/Table';\nimport { Modal } from './components/Modal/Modal';\n\nconst App: React.FC = () => {\n  const [players, setPlayers] = useState<IPlayer[]>([]);\n  const [scoreSort, setScoreSort] = useState<boolean>(true);\n  const [selectedPlayer, setSelectedPlayer] = useState<IPlayer | null>(null);\n\n  useEffect(() => {\n    const eventSource = new EventSource('http://localhost:5000');\n\n    eventSource.onmessage = function (event) {\n      const player = JSON.parse(event.data);\n\n      setPlayers(prevPlayers => [...prevPlayers, player]);\n    };\n  }, []);\n\n  const handleChangeScoreSort = () => {\n    const reducePlayersScoreSort = [...players].sort((player1, player2) => (\n      player2.score - player1.score\n    ));\n    const increasePlayersScoreSort = [...players].sort((player1, player2) => (\n      player1.score - player2.score\n    ));\n\n    if (scoreSort) {\n      return reducePlayersScoreSort;\n    }\n\n    return increasePlayersScoreSort;\n  };\n\n  const urlName = (name: string) => {\n    const changeToUrlName = name.split(' ').join('%20');\n\n    return `/player/${changeToUrlName}`;\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"App__title\">\n        Score board\n      </h1>\n\n      {players.length\n        ? (\n          <Table\n            players={handleChangeScoreSort()}\n            scoreSort={scoreSort}\n            scoreButton={setScoreSort}\n            setSelectedPlayer={setSelectedPlayer}\n          />\n        )\n        : (\n          <Preloader />\n        )}\n\n      {selectedPlayer && (\n        <Routes>\n          <Route\n            path={urlName(selectedPlayer.name)}\n            element={(\n              <Modal selectedPlayer={selectedPlayer} />\n            )}\n          />\n        </Routes>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}